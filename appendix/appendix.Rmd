---
title: |
       | Supplementary Materials for "Financial Incentives and Healthcare Provision: Evidence from an Experimental \textit{Aedes aegypti} Control Programme in Brazil"
author:
- "Danilo Freire[^freire]"
- "Umberto Mignozzetti[^mignozzetti]"
date: \today
fontfamily: libertine
fontawesome: yes
fontsize: 12pt
monospace-url: yes
spacing: double
papersize: a4paper
bibliography: "../manuscript/references.bib"
biblio-style: apalike
always_allow_html: true
output:
  pdf_document:
    citation_package: natbib
    fig_caption: yes
    number_sections: yes
    toc: true
    keep_tex: no
    template: template.latex
---

\appendix

[^freire]: Independent Researcher, <danilofreire@gmail.com>, <http://danilofreire.github.io>.

[^mignozzetti]: Visiting Assistant Professor, Quantitative Theory and Methods, Emory University, <umberto.mignozzetti@emory.edu>, <http://umbertomig.com>. Corresponding author.

```{r, include=FALSE}
# Knitr options
knitr::opts_chunk$set(echo = TRUE)

# Random Seed
set.seed(597154) # From random.org
```

```{r, include=FALSE, warning=FALSE, echo=FALSE}
## Initializing

# Start
rm(list=ls())

# R CRAN
r <- getOption("repos")
r["CRAN"] <- "https://cloud.r-project.org/"
options(repos = r)

# Install required packages
pkgs <- c('tidyverse', 'ggmap', 'magrittr',
          'sf', 'gpclib', 'sp', 'rgdal',
          'readxl', 'ggthemes', 'stringr',
          'lmtest', 'estimatr', 'sandwich',
          'stargazer', 'maptools', 'gridExtra',
          'WeightIt', 'robustHD', 'kableExtra',
          'lfe')

installIfNot <- function(x) {
  if(x %in% rownames(installed.packages()) == FALSE)
    install.packages(x, dependencies = T)
}
invisible(lapply(pkgs, installIfNot))

# Load packages
invisible(lapply(pkgs, require, character.only = T))
rm(pkgs, installIfNot, r)

# Load data
load('../data/incentives_healthcare.RData')
```

\pagebreak

# A Theory of Service Provision under Moral Hazard in Teams

Consider the following interaction between healthcare workers and a government agency.\footnote{This model was inspired by \citet{bolton2005contract} and \citet{itoh1991incentives}. Here we present a particular case of their model to illustrate the effects of our treatment.} The agency hires the workers to provide preventive healthcare. And the workers decide the amount of effort they will exert, conditional on the compensation scheme they receive.

Workers perform preventive healthcare tasks. To inspect a house and eliminate mosquito breeding sites, healthcare workers visit the households in pairs or in groups of three. Supposedly, this increases efficiency as it helps the team cover more territory and be more careful in the areas they inspect individually. Team structures also help in terms of lowering free-riding and increasing incentives for cooperative work. To capture this, we assume that a given worker $i$ divides her work effort into two tasks: those which she accomplishes with her own effort ($e_i$) and helping efforts ($h_i$). To capture the costs of effort, we assume the following convex cost function $\dfrac{c}{2}(e_i^2 + h_i^2)$, where $c>0$ represents the changes in marginal costs of effort and help.

Due to the nature of preventive care work, the policy outcome is probabilistic. Preventive healthcare aims to lower the chance of a person getting sick. For example, washing one's hands lowers the chance of flu infections, but from time to time a person gets the flu regardless of how many times she washes her hands. The only difference is that a person who washes her hands constantly has a lower chance of getting sick and will get sick fewer times during her lifespan. For this reason, we denote the probability of a successful provision of the service by a pair $i$ and $j$ of healthcare workers, as $P(e_i, h_i, e_j, h_j)$. For simplicity, we assume that the probabilities are separable, with $P(e_i, h_i, e_j, h_j) = P_i(e_i, h_j) + P_j(e_j, h_i)$. To make the output more concrete, assume that a given worker $i$ has an individual probability of $P_i(e_i, h_j) = e_i(1+h_j)$ of successfully lowering the disease burden with her effort ($e_i$) and with the help of her peer ($h_j$).

From the perspective of the agency, successful work grants a benefit of $B>0$. This benefit represents the social gains of lowering disease incidence in the municipality. For example, the payoff could be the amount of money saved from fewer hospitalisations or the economic benefit of fewer people missing work due to \textit{A. aegypti}-transmitted diseases. The agency incentivises workers via three types of salaries: a flat salary without bonuses, an individual compensation, and a bonus when the entire team achieves their collective objectives. These formulations allow us to disentangle which scheme offers the highest yield in terms of disease prevention.

The optimal scheme to improve welfare is a contract where the government agency offers a compensation package, and the healthcare providers choose their effort accordingly. From the perspective of the worker, the expected utility of effort, provided that the compensation depends on successful provision of the service, and that the benefit from salary is given by a concave function $u(.)$. For concreteness, we use the function $u(x) = \sqrt{x}$. The expected utility of effort is then the compensation for each scenario, times their probability. It is equal to:

\begin{eqnarray*}
    U_i(e_i, h_i; e_j, h_j) & = & P_i(e_i, h_j)P_j(e_j, h_i)u(s+w_{both}) + \\
    & & P_i(e_i, h_j)(1-P_j(e_j, h_i))u(s+w_{one}) + \\
    & & (1-P_i(e_i, h_j))P_j(e_j, h_i)u(s+w_{one}) + \\
    & & (1-P_i(e_i, h_j))(1-P_j(e_j, h_i))u(s) - \dfrac{c}{2}(e_i^2 + h_i^2)
\end{eqnarray*}

And this utility is symmetric for the worker $j$. To simplify things, consider that the compensation under an unsuccessful service provision is equal to zero: $u(s)=0$, or $s=0$. From the perspective of the government agency, the benefit from offering the compensation is equal to the social benefit in each provision scenario minus the compensation times the likelihood of the scenario:

\begin{eqnarray*}
    U_A(w_{both}, w_{one}, s; e_i, h_i, e_j, h_j) & = & P_i(e_i, h_j)P_j(e_j, h_i)(2B - 2w_{both}) + \\
    & & P_i(e_i, h_j)(1-P_j(e_j, h_i))(B-2w_{one}) + \\
    & & (1-P_i(e_i, h_j))P_j(e_j, h_i)(B-2w_{one})
\end{eqnarray*}

The situation is a standard contract theory problem, in which we have three compensation packages: no bonus ($w_{both} = w_{one} = 0$), individual bonus ($w_{both} = w_{one} \neq 0$), and collective bonus ($w_{both} \neq w_{one}$, $w_{both} \neq 0$, and $w_{one} \neq 0$). The optimal contract is then the solution for the following constrained optimisation problem:

\begin{eqnarray*}
    \max_{w_{both}, w_{one}} U_A(w_{both}, w_{one}; e_i, h_i, e_j, h_j) \text{, subject to:} \\
    & (e_i, h_i) \in \arg \max U_i(e_i, h_i; e_j, h_j, w_{both}, w_{one}) \\
    & (e_j, h_j) \in \arg \max U_j(e_j, h_j; e_i, h_i, w_{both}, w_{one})
\end{eqnarray*}

And by choosing an optimal compensation scheme, the agency can induce more effort and more cooperation among workers.

## Baseline: No Incentive Bonuses

When the agency only pays a flat salary without performance incentives, the agency sets the performance compensation equal to zero: $w_{both} = w_{one} = 0$. This changes the expected utility of the agent to the following:

\begin{eqnarray*}
U_i(e_i, h_i; e_j, h_j) & = & - \dfrac{c}{2}(e_i^2 + h_i^2)
\end{eqnarray*}

In this setting, exerting effort generates only costs and no benefits. The agents exert zero effort and help in equilibrium: $e_i^* = e_j^* = 0$ and $h_i^* = h_j^* = 0$. The agency pays the minimum wage accepted by law, and in this model, we assume that this wage is equal to zero. Accordingly, the agency's expected benefit is equal to:

\[
R_A(\text{no bonus}) \ = \ 0
\]

The prediction here is that workers will exert no effort, and that the agency will have only costs without accruing any benefit. This is the worst-case scenario in terms of the agency's welfare. In the experiment, it matches the control condition.\footnote{Throughout the chapter, we assume that the optimal output for the agency is equal to the maximum welfare for society. Although this is not always the case, it is a reasonable simplification for the purposes of this article. Adding a difference here would only complicate our results and provide no further insight into designing an incentive scheme to maximise welfare.}

## Performance Bonus for Individuals

When the benefits are tied to individual performance, the government agency compensates the workers for their effort, without tying their bonuses to helping other workers. This means that $h_i^* = h_j^* = 0$, but the optimal level of effort is always positive. Let $\alpha$ the bonus the government agency offers to workers conditional on lowering the incidence of the disease. Each worker then evaluates the utility of the bonus as $u_i(\alpha) = \sqrt{\alpha}$, as the utility of the agent is concave, representing the risk aversion of the agent. The optimisation problem, from the perspective of the agent, is to maximise her expected utility, given the bonus offered by the government agency upon achieving a successful provision:

\begin{eqnarray*}
\max_{e_i} U_i(e_i) & = & \max_{e_i} \left[P_i(e_i, 0)\sqrt{\alpha} - \dfrac{c}{2}(e_i^2)\right] \\
 & = & \max_{e_i} \left[e_i\sqrt{\alpha} - \dfrac{c}{2}(e_i^2)\right]
\end{eqnarray*}

Both workers face the same incentive structure, so the equilibrium is symmetric, with $e_i = e_j$. Taking the derivative and equating it to zero, we find the following optimal effort level: $e_i^* = e_j^* = \dfrac{\sqrt{\alpha}}{c}$. The optimal level of effort represents the point where the marginal benefit from the government agency's compensation is equal to the marginal cost of effort. The benefit of a successful provision of the healthcare service is equal to -- for both players -- the total benefit times the chance of a successful provision times the difference between the benefit accrued from a successful provision minus the bonus paid for the worker. To compute the optimal contract the government agency has to offer in this setting, we must choose $\alpha$ to maximise the agency's expected utility:

\begin{eqnarray*}
\max_{\alpha} R_A(e_i^*(\alpha), e_j^*(\alpha)) & = & \max_{\alpha} \left[2 \dfrac{\sqrt{\alpha}}{c} (B-\alpha)\right]
\end{eqnarray*}

The optimal bonus is equal to $\alpha^* = \dfrac{B}{3}$. Plugging the optimal bonus and the optimal effort levels into the welfare function, we find the agency's expected revenue, which in this case is equal to:

\[
R_A(\text{individual bonus}) \ = \ \dfrac{4}{c} \left[ \dfrac{B}{3} \right]^{\dfrac{3}{2}}
\]

The revenue is always greater than zero, provided that the costs of investing effort and the social benefits of the policy are greater than zero.

## Performance Bonus for Teams

When the government agency sets rewards for both individual and team performance, healthcare workers divide their time between expending effort in their job ($e_i$) and helping their teams to get their jobs done ($h_i$). Helping may take many forms: from simple peer pressure and monitoring to ensure the peer is doing the job well, to efficiently dividing tasks and exploiting synergies in their duties. From the government agency's perspective, incentivising workers to help each other can increase the chances of obtaining successful service provision. From the standpoint of healthcare workers, optimal effort becomes a mix of her own efforts and the helping efforts that maximise her expected utility, provided that both efforts are incentive compatible. Incentive compatible means, in the case of healthcare workers, that both efforts are exerted to match the governmental agency's contractual incentives. The expected utility for the agent $i$ consists of the chance of getting a bonus times the utility of the bonus. This is iterated in each of the possible service provision scenarios.

\begin{eqnarray*}
\max_{(e_i,h_i)} U_i(e_i, h_i; e_j, h_j) & = & \max_{(e_i,h_i)} \{e_j(1+h_i)e_i(1+h_j)u(w_{ij}) + \\
& & e_j(1+h_i)(1-e_i(1+h_j))u(w_{j}) + \\
& & e_i(1+h_j)(1-e_j(1+h_i))u(w_{i}) - c\dfrac{e_i^2+h_i^2}{2}\}
\end{eqnarray*}

Again, both players are *ex-ante* similar in terms of their expected utilities. This allow us to solve for the Symmetric Nash Equilibrium, where:

1. The effort of a given healthcare provider ($i$) is equal to the effort of the other healthcare provider ($j$): $e_i = e_j = e$.
2. The help of one healthcare provider is equal to the help of the other healthcare provider $h_i = h_j = h$.
3. Both agents have the same utility function, $U_i(.) = U_j(.)$.

Maximising the expected utility leads us to the optimal effort and amount of help for the healthcare provider, given the contractual scheme. The optimal provision must satisfy the following equation:

\begin{eqnarray*}
\dfrac{\partial U}{\partial e} & = & e(1+h)^2(u(w_{ij})-u(w_{i})-u(w_{j})) + (1+h)u(w_{i})-ce \\
\dfrac{\partial U}{\partial h} & = &
e^2(1+h)(u(w_{ij})-u(w_{i})-u(w_{j})) + eu(w_{j})-ch
\end{eqnarray*}

To simplify our computation, we consider contracts that vary in one dimension $\alpha$. The individual part of the contractual benefit is equal to multiples of this contract for each situation: own successful provision and the successful colleague provision.

In this example, we restrict our attention to contracts where $u(w_{i}) = u(w_{j}) = \sqrt{\alpha}$ and $u(w_{ij}) = 2u(w_{i})$. These contracts are a better match for the conditions we set in the experiment: they represent the collective gain when recompensing the agent for peer and individual successes. The optimal effort and help become:

\[
e_{i}^{*} = e_{j}^{*} = \dfrac{\sqrt{\alpha c}}{c - \alpha}
\]

and

\[
h_{i}^{*} = h_{j}^{*} = \dfrac{\alpha}{c-\alpha}
\]

The governmental agency now maximises the bonus for the individual provision ($\alpha$), given that the collective provision is higher than it is. The expected revenue of the agency is equal to the chance of lowering the disease burden times the benefit minus the costs of paying the salaries of the healthcare providers:

\begin{eqnarray*}
\max_{\alpha} R_A(e_{i}^{*}(\alpha), h_{i}^{*}(\alpha), e_{j}^{*}(\alpha), h_{i}^{*}(\alpha)) & = & \max_{\alpha} \left[2 \dfrac{c\sqrt{c\alpha}}{(c-\alpha)^2} (B-2\alpha)\right]
\end{eqnarray*}

The derivative of this equation is the polynomial in the second degree in $\alpha$. By the intermediate value theorem, it is easy to see that it has one solution for $\alpha \in [0, B]$. To illustrate, consider Figure \ref{figrevmax}, where we plot the expected revenue for the agency ($R_A(\alpha)$), as a function of the offered compensation $\alpha$, and the three types of contracts: no productivity incentives, individual productivity incentives, and team productivity incentives, fixing $B = c = 1$.

\begin{figure}
\centering
\includegraphics[width=1\textwidth]{../figures/figrev.pdf}
\caption{Governmental Agency's Revenue in Terms of Contract and Compensation}
\label{figrevmax}
\end{figure}

Therefore, the maximum benefit that the agency can achieve is higher when the agency compensates the workers for their cooperation. When the agency incentivises team effort, workers can do better, on margin, by sharing the benefit of successful provision.\footnote{The limits for this reasoning appear when there are gains of specialisation. For instance, if the costs for effort and help were such that $\dfrac{c(e+h)^2}{2}$, then diverting energy for help is costly, on margin, at the same rate as the given effort provision. In this case, the compensation to stimulate cooperation has to be significantly higher, and even in this case there will be incentives for not cooperating.}

# Data Analysis

## Data Sources

We have five data sources in this study, all of them are included in `./data/incentives_healthcare.RData`:

- `pretreat`: Pre-treatment balance information.
- `prodfr`: Field productivity data.
- `dfr`: Disease incidence in every Rio Verde census sector.
- `dfr2`: Disease incidence in every Rio Verde census sector that received the intervention.
- `did_full`: Differences-in-differences estimator that measures the effect of our intervention against a pure control group.

### Pre-Treatment Balance Dataset

The pre-treatment balance dataset contains information about every individuals who interacted with the experimental team at any point of time. To be included in this dataset, the person has to have filled the recruitment form we had circulated on Facebook as part of our campaign. The dataset contains 13 variables that we collected before the intervention. We gathered these data either via Google Forms, or in pre-treatment surveys before the training session.

1. `Age`: Age of the participant.
2. `Female`: Dummy for female participant.
3. `HasVehicle`: Dummy for having a vehicle (car or motorcycle).
4. `aboveMedianAltr`: Dummy for ranking above the sample median in our altruism scale.
5. `relig`: Dummy for ranking above the sample median in our religiosity scale.
6. `polengage`: Dummy for ranking above sample median in political engagement.
7. `socengage`: Dummy for ranking above the sample median in social engagement.
8. `collegeplus`: Dummy for having college degree or higher.
9. `aboveTwoMinWageFam`: Dummy for earning more than two Brazilian minimum wages (R\$ 900.00 per month).
10. `FBpop`: Dummy for having above median Facebook popularity.
11. `training`: Dummy for having joined the training session.
12. `participating`: Dummy for having participated in the field experiment.
13. `assignment`: Dummy for treatment status assignment.

### Field Productivity Dataset

We collected field productivity data based on the subjects' performance during the experiment. We measured productivity using three indicators:

1. Number of houses visited.
2. Number of possible breeding sites exterminated.
3. Number of larvae exterminated.

We compiled these data using pictures taken in the field. All participants were instructed to take pictures of clean breeding sites, and to make videos showing the larvae they exterminated. After finishing the inspection of each household, subjects had to take a last picture of the house to prove that they had been there.

The final dataset has the following variables:

1. `D`: Treatment assignment.
2. `pair_n`: Pair index ID.
3. `nHouse`: Number of houses visited.
4. `nBreed`: Number of breeding sites cleaned.
5. `nLarvae`: Number of larvae exterminated.
6. `nHouseVisit`: Number of houses that were indeed visited (based on having pictures of breeding sites and larvae videos).
7. `nHouseLessTwoMin`: Number of houses visited in less than two minutes (which denotes either that the pair did not go to the place, or that there were no residents at home).

### Disease Incidence Datasets

To assess whether the intervention had an impact on the municipal healthcare system, we collected thirteen variables in two distinct datasets. All datasets compile data from the National Health Notification System (SINAN) for the  Rio Verde municipality. The dataset has the complete records of all individuals who had been hospitalised between four months before and four month after the intervention. We geolocated the household addresses of those individuals who were hospitalised with dengue fever, then we matched the case to the census sector where that person lives. Finally, we computed the number of cases before and after a few time windows around the intervention. The result is two datasets, `dfr` (with all census sectors) and `dfr2` (with only the census sectors matched in the intervention). Both datasets have the following variables:

1. `CensusSectors`: Last three digits of census sector (2010 Brazilian census).
2. `NHouses`: Number of houses in each census sector (2010 Brazilian census).
3. `NHouseholds`: Average Number of households in each house/building and in each census sector (2010 Brazilian Census).
4. `AvgHouseholdSize`: Average household income per census sector (2010 Brazilian Census).
5. `logAvgIncomeHousehold`: Log of average household income per census sector (2010 Brazilian Census).
6. `D1`: Treatment assignment.
7. `D2`: Intervention x no intervention (no Intervention empty in `dfr2`).
8. `nc15dafter`: Number of cases 15 days after the intervention.
9. `nc30dafter`: Number of cases 30 days after the intervention.
10. `nc60dafter`: Number of cases 60 days after the intervention.
11. `nc90dafter`: Number of cases 90 days after the intervention.
12. `nc30to60dafter`: Number of cases between 30 and 60 days after the intervention.
13. `plac`: Number of cases before the intervention.

### Differences-in-Differences Dataset

We build `did_full` dataset to investigate whether the intervention had any impact on public health outcomes. The disease incidence data describes the treatment effect. In the differences-in-differences models, we combine all treatments and investigate how they perform against a pure control group, which are the census sectors that were not visited during the intervention.

The dataset has ten variables:

1. `CensusSectors`: Last three digits of census sector (2010 Brazilian Census).
2. `D`: Treatment status census sector (intervention versus pure control).
3. `weekn`: Week name.
4. `ncas`: Number of cases in a given week and census sector.
5. `Tm`: Week number.
6. `Tm2`: Intervention timing indicator.
7. `DID`: Differences-in-differences ($Tm2 \times D$).
8. `ncas4weekwindow`: Number of cases four weeks window around the intervention.
9. `ncas8weekwindow`: Number of cases eight weeks window around the intervention.
10. `ncas12weekwindow`: Number of cases twelve weeks window around the intervention.

## Covariate Balance

We measure covariate balance using four statistics. First, we check whether subjects decided to join us for the training day. Second, we assess their decision to participate in the experiment. Subjects had to take part in the training process and then participate in the fieldwork. Third, we checked if individual characteristics are balanced across our treatment groups. We collected that information via Google Forms and using a pre-treatment survey. Finally, we checked the territorial assignment to make sure that the pre-treatment characteristics are balanced in the places that subjects visited. We find a good level of balance for the individual assignment (models 1 to 3), and we corrected eventual imbalances in the territorial assignment using propensity-score matching [@rosenbaum1985constructing].

### Training Participation

```{r, echo = FALSE, cache=TRUE}
#####
## Balance
#####

## Training Participation Balance
tabcov <- data.frame()
x = tapply(pretreat$Age,
           pretreat$training,
           mean)
y = summary(aov(Age~training,
                data = pretreat))
tab <- data.frame(Var = 'Age',
                  `NotTraining` = round(x[1],2),
                  `Training` = round(x[2],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)
x = tapply(pretreat$Female,
           pretreat$training,
           mean)
y = summary(aov(Female~training, data = pretreat))
tab <- data.frame(Var = 'Female',
                  `NotTraining` = round(x[1],2),
                  `Training` = round(x[2],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)
x = tapply(pretreat$HasVehicle,
           pretreat$training,
           mean)
y = summary(aov(HasVehicle~training, data = pretreat))
tab <- data.frame(Var = 'Has Vehicle?',
                  `NotTraining` = round(x[1],2),
                  `Training` = round(x[2],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)
x = round(tapply(rep(1, length(pretreat$training)),
                 pretreat$training,
                 sum), digits = 0)
tab <- data.frame(Var = 'N',
                  `NotTraining` = round(x[1],2),
                  `Training` = round(x[2],2),
                  FVal = NA,
                  Pvalue = NA)
tabcov <- rbind(tabcov, tab)
row.names(tabcov) <- NULL
```

\begin{table}[!htbp] \centering
  \caption{Covariate Balance on Training}
  \label{baltraining}
\begin{tabular}{@{\extracolsep{5pt}} lcccc}
\\[-1.8ex]\hline
\hline \\[-1.8ex]
Variable & Not Training & Training & F-Statistic & P-Value \\
\hline \\[-1.8ex]
```{r, echo=FALSE, results='asis'}
for (i in 1:dim(tabcov)[1]) {
  cat(paste(paste(tabcov[i,], collapse = ' & '),
        ' \\\\ ', sep = ''), '\n')
}
```
\hline\hline \\[-1.8ex]
\end{tabular}
\end{table}

### Participation in the Field

```{r, echo = FALSE, cache=TRUE}
#####
## Balance
#####

## Participation Balance
tabcov <- data.frame()
x = tapply(pretreat$Age,
           pretreat$participating,
           mean)
y = summary(aov(Age~participating,
                data = pretreat))
tab <- data.frame(Var = 'Age',
                  `NotParticipating` = round(x[1],2),
                  `Participating` = round(x[2],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)
x = tapply(pretreat$Female,
           pretreat$participating,
           mean)
y = summary(aov(Female~participating, data = pretreat))
tab <- data.frame(Var = 'Female',
                  `NotParticipating` = round(x[1],2),
                  `Participating` = round(x[2],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)
x = tapply(pretreat$HasVehicle,
           pretreat$participating,
           mean)
y = summary(aov(HasVehicle~participating, data = pretreat))
tab <- data.frame(Var = 'Has Vehicle?',
                  `NotParticipating` = round(x[1],2),
                  `Participating` = round(x[2],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)
x = round(tapply(rep(1, length(pretreat$participating)),
                 pretreat$participating,
                 sum), digits = 0)
tab <- data.frame(Var = 'N',
                  `NotParticipating` = round(x[1],2),
                  `Participating` = round(x[2],2),
                  FVal = NA,
                  Pvalue = NA)
tabcov <- rbind(tabcov, tab)
row.names(tabcov) <- NULL
```

\begin{table}[!htbp] \centering
  \caption{Covariate Balance on Participation}
  \label{balpart}
\begin{tabular}{@{\extracolsep{5pt}} lcccc}
\\[-1.8ex]\hline
\hline \\[-1.8ex]
Variable & Not Participating & Participating & F-Statistic & P-Value \\
\hline \\[-1.8ex]
```{r, echo=FALSE, results='asis'}
for (i in 1:dim(tabcov)[1]) {
  cat(paste(paste(tabcov[i,], collapse = ' & '),
        ' \\\\ ', sep = ''), '\n')
}
```
\hline\hline \\[-1.8ex]
\end{tabular}
\end{table}

\pagebreak

### Individual Assignment

```{r, echo = FALSE}
#####
## Balance
#####

## Pairs characteristics
tabcov <- data.frame()

# Age
x = tapply(pretreat$Age,
           pretreat$assignment,
           mean)
y = summary(aov(Age~assignment,
                data = pretreat))
tab <- data.frame(Var = 'Age',
                  NoBonus = round(x[1],2),
                  Individual = round(x[2],2),
                  Collective = round(x[3],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)

# Female
x = tapply(pretreat$Female,
           pretreat$assignment,
           mean)
y = summary(aov(Female~assignment, data = pretreat))
tab <- data.frame(Var = 'Female',
                  NoBonus = round(x[1],2),
                  Individual = round(x[2],2),
                  Collective = round(x[3],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)

# Has Vehicle
x = tapply(pretreat$HasVehicle,
           pretreat$assignment,
           mean)
y = summary(aov(HasVehicle~assignment, data = pretreat))
tab <- data.frame(Var = 'Has Vehicle?',
                  NoBonus = round(x[1],2),
                  Individual = round(x[2],2),
                  Collective = round(x[3],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)

# Altruism
x = tapply(pretreat$aboveMedianAltr,
           pretreat$assignment,
           mean)
y = summary(aov(aboveMedianAltr~assignment, data = pretreat))
tab <- data.frame(Var = 'Altruist',
                  NoBonus = round(x[1],2),
                  Individual = round(x[2],2),
                  Collective = round(x[3],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)

# Religiosity
x = tapply(pretreat$relig,
           pretreat$assignment,
           mean)
y = summary(aov(relig~assignment, data = pretreat))
tab <- data.frame(Var = 'Religiosity',
                  NoBonus = round(x[1],2),
                  Individual = round(x[2],2),
                  Collective = round(x[3],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)

# Political Engagement
x = tapply(pretreat$polengage,
           pretreat$assignment,
           mean)
y = summary(aov(polengage~assignment, data = pretreat))
tab <- data.frame(Var = 'Pol. Engagement',
                  NoBonus = round(x[1],2),
                  Individual = round(x[2],2),
                  Collective = round(x[3],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)

# Social Engagement
x = tapply(pretreat$socengage,
           pretreat$assignment,
           mean)
y = summary(aov(socengage~assignment, data = pretreat))
tab <- data.frame(Var = 'Soc. Engagement',
                  NoBonus = round(x[1],2),
                  Individual = round(x[2],2),
                  Collective = round(x[3],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)

# Above Two Minimum Wage Family
x = tapply(pretreat$aboveTwoMinWageFam,
           pretreat$assignment,
           mean)
y = summary(aov(aboveTwoMinWageFam~assignment, data = pretreat))
tab <- data.frame(Var = 'Above Two Min. Wage',
                  NoBonus = round(x[1],2),
                  Individual = round(x[2],2),
                  Collective = round(x[3],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)

# Above Median Facebook popularity
x = tapply(pretreat$FBpop,
           pretreat$assignment,
           mean)
y = summary(aov(FBpop~assignment, data = pretreat))
tab <- data.frame(Var = 'Facebook Popularity',
                  NoBonus = round(x[1],2),
                  Individual = round(x[2],2),
                  Collective = round(x[3],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)

# N
x = round(tapply(rep(1, length(pretreat$assignment)),
                 pretreat$assignment,
                 sum), digits = 0)
tab <- data.frame(Var = 'N',
                  NoBonus = round(x[1],0),
                  Individual = round(x[2],0),
                  Collective = round(x[3],0),
                  FVal = NA,
                  Pvalue = NA)
tabcov <- rbind(tabcov, tab)
row.names(tabcov) <- NULL
```

\begin{table}[!htbp] \centering
  \caption{Covariate Balance on Individual Characteristics}
  \label{balindvchar}
\begin{tabular}{@{\extracolsep{5pt}} lccccc}
\\[-1.8ex]\hline
\hline \\[-1.8ex]
Variable & Control & Individual & Collective & F-Statistic & P-Value \\
\hline \\[-1.8ex]
```{r, echo=FALSE, results='asis'}
for (i in 1:dim(tabcov)[1]) {
  cat(paste(paste(tabcov[i,], collapse = ' & '),
        ' \\\\ ', sep = ''), '\n')
}
```
\hline\hline \\[-1.8ex]
\end{tabular}
\end{table}

### Unweigted Territorial Assignment

```{r, echo = FALSE, cache=TRUE}
## Census Sectors characteristics
tabcov <- data.frame()

# Number of Houses
x = tapply(dfr2$NHouses,
           dfr2$D1,
           mean)
y = summary(aov(NHouses~D1, data = dfr2))
tab <- data.frame(Var = 'Number of Houses',
                  NoBonus = round(x[1],2),
                  Individual = round(x[2],2),
                  Collective = round(x[3],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)

# Age
x = tapply(dfr2$NHouseholds,
           dfr2$D1,
           mean)
y = summary(aov(NHouseholds~D1, data = dfr2))
tab <- data.frame(Var = 'Number of Households',
                  NoBonus = round(x[1],2),
                  Individual = round(x[2],2),
                  Collective = round(x[3],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)

# AvgHouseholdSize
x = tapply(dfr2$AvgHouseholdSize,
           dfr2$D1,
           mean)
y = summary(aov(AvgHouseholdSize~D1, data = dfr2))
tab <- data.frame(Var = 'Avg. Household Size',
                  NoBonus = round(x[1],2),
                  Individual = round(x[2],2),
                  Collective = round(x[3],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)

# Avg. Income Households
x = tapply(dfr2$logAvgIncomeHousehold,
           dfr2$D1,
           mean)
y = summary(aov(logAvgIncomeHousehold~D1, data = dfr2))
tab <- data.frame(Var = 'Log Avg. Income',
                  NoBonus = round(x[1],2),
                  Individual = round(x[2],2),
                  Collective = round(x[3],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)

# Cases Before
x = tapply(dfr2$plac,
           dfr2$D1,
           mean)
y = summary(aov(plac~D1, data = dfr2))
tab <- data.frame(Var = 'Cases Before Treatment',
                  NoBonus = round(x[1],2),
                  Individual = round(x[2],2),
                  Collective = round(x[3],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)
row.names(tabcov) <- NULL

## re-weighting
dfr2$weightsD1 = weightit(D1~NHouses+
                    NHouseholds+AvgHouseholdSize+
                    logAvgIncomeHousehold+plac,
                  data = dfr2, focal = "No bonus",
                  method = 'cbps',
                  estimand = "ATT")$weights

dfr$weightsD1 <- weightit(D1~NHouses+
                    NHouseholds+AvgHouseholdSize+
                    logAvgIncomeHousehold+plac,
                  data = dfr, focal = "Control",
                  method = 'cbps',
                  estimand = "ATT")$weights

dfr$weightsD2 <- weightit(D2~NHouses+
                            NHouseholds+AvgHouseholdSize+
                            logAvgIncomeHousehold+plac,
                          data = dfr, focal = "No intervention",
                          method = 'cbps',
                          estimand = "ATT")$weights
```

\begin{table}[!htbp] \centering
  \caption{Covariate Balance Un-Weighted Territorial Assignment}
  \label{appcunweightbalter}
\begin{tabular}{@{\extracolsep{5pt}} lccccc}
\\[-1.8ex]\hline
\hline \\[-1.8ex]
Variable & Control & Individual & Collective & F-Statistic & P-Value \\
\hline \\[-1.8ex]
```{r, echo=FALSE, results='asis'}
for (i in 1:dim(tabcov)[1]) {
  cat(paste(paste(tabcov[i,], collapse = ' & '),
        ' \\\\ ', sep = ''), '\n')
}
```
\hline\hline \\[-1.8ex]
\end{tabular}
\end{table}

### Propensity-Score Weighted Territorial Assignment

```{r, echo=FALSE, warning=FALSE, results='hide'}
tabcov <- data.frame()
# Number of Houses
x = dfr2 %>%
  group_by(D1) %>%
  summarise(x = weighted.mean(NHouses, weightsD1),
            .groups = 'drop')
x = x$x
x
y = summary(aov(NHouses~D1, data = dfr2, weights=dfr2$weightsD1))
tab <- data.frame(Var = 'Number of Houses',
                  NoBonus = round(x[1],2),
                  Individual = round(x[2],2),
                  Collective = round(x[3],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)

# Number of households
x = dfr2 %>%
  group_by(D1) %>%
  summarise(x = weighted.mean(NHouseholds, weightsD1),
            .groups = 'drop')
x = x$x
y = summary(aov(NHouseholds~D1, data = dfr2, weights=dfr2$weightsD1))
tab <- data.frame(Var = 'Number of Households',
                  NoBonus = round(x[1],2),
                  Individual = round(x[2],2),
                  Collective = round(x[3],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)

# AvgHouseholdSize
x = dfr2 %>%
  group_by(D1) %>%
  summarise(x = weighted.mean(AvgHouseholdSize, weightsD1),
            .groups = 'drop')
x = x$x
y = summary(aov(AvgHouseholdSize~D1, data = dfr2,
                weights=dfr2$weightsD1))
tab <- data.frame(Var = 'Avg. Household Size',
                  NoBonus = round(x[1],2),
                  Individual = round(x[2],2),
                  Collective = round(x[3],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)

# Avg. Income Households
x = dfr2 %>%
  group_by(D1) %>%
  summarise(x = weighted.mean(logAvgIncomeHousehold, weightsD1),
            .groups = 'drop')
x = x$x
y = summary(aov(logAvgIncomeHousehold~D1, data = dfr2,
                weights=dfr2$weightsD1))
tab <- data.frame(Var = 'Log Avg. Income',
                  NoBonus = round(x[1],2),
                  Individual = round(x[2],2),
                  Collective = round(x[3],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)

# Cases Before
x = dfr2 %>%
  group_by(D1) %>%
  summarise(x = weighted.mean(plac, weightsD1),
            .groups = 'drop')
x = x$x
y = summary(aov(plac~D1, data = dfr2, weights=dfr2$weightsD1))
tab <- data.frame(Var = 'Cases Before Treatment',
                  NoBonus = round(x[1],2),
                  Individual = round(x[2],2),
                  Collective = round(x[3],2),
                  FVal = round(y[[1]][1,4], 3),
                  Pvalue = round(y[[1]][1,5], 3))
tabcov <- rbind(tabcov, tab)
row.names(tabcov) <- NULL
```

\begin{table}[!htbp] \centering
  \caption{Covariate Balance Weighted Territorial Assignment}
  \label{appcweightbalter}
\begin{tabular}{@{\extracolsep{5pt}} lccccc}
\\[-1.8ex]\hline
\hline \\[-1.8ex]
Variable & No Bonus & Individual & Collective & F-Statistic & P-Value \\
\hline \\[-1.8ex]
```{r, echo=FALSE, results='asis'}
for (i in 1:dim(tabcov)[1]) {
  cat(paste(paste(tabcov[i,], collapse = ' & '),
        ' \\\\ ', sep = ''), '\n')
}
```
\hline\hline \\[-1.8ex]
\end{tabular}
\end{table}

\pagebreak

## Productivity Outcomes

```{r, echo = FALSE, results='asis'}
## Productivity outcome
mprod <- list()
mprod[[1]] <- lm(nHouse ~ D, data = prodfr)
mprod[[2]] <- lm(nHouseLessTwoMin ~ D, data = prodfr)
mprod[[3]] <- lm(nBreed ~ D, data = prodfr)
mprod[[4]] <- lm(nLarvae ~ D, data = prodfr)
stargazer(mprod[[1]], mprod[[2]],
          mprod[[3]], mprod[[4]],
          se = starprep(mprod[[1]], mprod[[2]],
                        mprod[[3]], mprod[[4]],
                        se_type = "HC1"),
          dep.var.labels = c('\\shortstack{Houses \\\\ Visited}',
                             '\\shortstack{Houses Vis. in \\\\ Less than Two Min.}',
                             '\\shortstack{Breeding Sites \\\\ Terminated}',
                             '\\shortstack{Larvae \\\\ Terminated}'),
          keep.stat = c('ser', 'n'),
          keep = c('DIndividual', 'DCollective'),
          covariate.labels = c('Individual Bonus',
                               'Collective Bonus'),
          title = 'Field Productivity', header = FALSE,
          font.size = 'small')
```

## Disease Incidence Outcomes

Table \ref{diseasein} shows that no treatment effect reaches conventional levels of statistical significance.

```{r, echo=FALSE, results='asis'}
## Health outcome
moutc <- list()
moutc[[1]] <- lm(nc15dafter ~ D1,
                 data = dfr2, weights = dfr2$weightsD1)
moutc[[2]] <- lm(nc30dafter ~ D1,
                 data = dfr2, weights = dfr2$weightsD1)
moutc[[3]] <- lm(nc60dafter ~ D1,
                 data = dfr2, weights = dfr2$weightsD1)
moutc[[4]] <- lm(nc90dafter ~ D1,
                 data = dfr2, weights = dfr2$weightsD1)
moutc[[5]] <- lm(nc30to60dafter ~ D1,
                 data = dfr2, weights = dfr2$weightsD1)
moutc[[6]] <- lm(plac ~ D1,
                 data = dfr2, weights = dfr2$weightsD1)

stargazer(moutc[[6]], moutc[[1]], moutc[[2]],
          moutc[[3]], moutc[[4]], moutc[[5]],
          se = starprep(moutc[[6]], moutc[[1]],
                        moutc[[2]], moutc[[3]],
                        moutc[[4]], moutc[[5]],
                        se_type = "HC1"),
          dep.var.labels = c('\\shortstack{Before \\\\ Int.}',
                             '\\shortstack{Fifteen D. \\\\ After Int.}',
                             '\\shortstack{Thirty D. \\\\ After Int.}',
                             '\\shortstack{Sixty D. \\\\ After Int.}',
                             '\\shortstack{Ninety D. \\\\ After Int.}',
                             '\\shortstack{Btw. Thirty \\\\ \\& Sixty D. \\\\ After Int.}'), label = 'diseasein',
          keep.stat = c('ser', 'n'),
          keep = c('D1Individual', 'D1Collective'),
          covariate.labels = c('Individual Bonus',
                               'Collective Bonus'),
          dep.var.caption = "Number of Reported Hospital Cases:",
          title = 'Disease Incidence', header = FALSE,
          font.size = 'small')
```

## Differences-in-Differences Estimation for Healthcare Outcomes

The results for the differences-in-differences estimations are available in Table \ref{difindif}.

```{r, echo = FALSE, results='asis'}
mod <- list()
mod[[1]] <- felm(ncas4weekwindow ~ Tm2+D+DID|0|0|CensusSectors, data = did_full)
mod[[2]] <- felm(ncas8weekwindow ~ Tm2+D+DID|0|0|CensusSectors, data = did_full)
mod[[3]] <- felm(ncas12weekwindow ~ Tm2+D+DID|0|0|CensusSectors, data = did_full)
mod[[4]] <- felm(ncas ~ Tm2+D+DID|0|0|CensusSectors, data = did_full)
stargazer(mod[[1]], mod[[2]], mod[[3]], mod[[4]],
          dep.var.labels = c('\\shortstack{Four \\\\ Weeks Window}',
                             '\\shortstack{Eight \\\\ Weeks Window}',
                             '\\shortstack{Twelve \\\\ Weeks Window}',
                             '\\shortstack{Sixteen \\\\ Weeks Window}'),
          keep.stat = c('ser', 'n'),
          keep = c('DID'),
          label = 'difindif',
          covariate.labels = c('Dif-in-Dif'),
          dep.var.caption = "Disease Incidence Before and After Intervention:",
          title = 'Differences-in-Differences Model', header = FALSE)
```

The results suggest the following:

1. There is a 10.3% effect on the full data model.
2. The coefficient for the other windows are not significant but the signs are consistent with lower disease incidence.

# Experiment Report

Here we follow the American Political Science Association Experimental Session Report Guidelines [@gerber2014reporting] and present a detailed discussion of our sample and research design.

## Hypothesis

### Question Addressed by the Experiment

We study the impact of monetary incentives on the performance of healthcare workers in Brazil. Our goal is to find which financial incentive scheme improves healthcare worker productivity the most.

Several articles highlight that higher payments improve public service provision [e.g., @doran2017impact; @duflo2012incentives; @langdown2014use]. However, these papers focus on services that are provided individually, such as by a single a teacher in a classroom. In public health, it is rare that employees work independently. This, in turn, poses the question: what is the best way to improve public healthcare provision, when the services are delivered by teams rather than by individuals?

Here we try to bridge this gap by testing whether team incentives are more effective than individual incentives to improve preventive healthcare provision in Brazil.

The Brazilian case is well suited for this test for two main reasons. First, *A. aegypti*-borne diseases are some of the leading causes of congenital disabilities, hospitalisation, and casualties in the Global South. Second, Brazilian healthcare agents work in pairs when they are allocated to visit households and exterminate mosquito breeding sites. Therefore, we could test individual versus team bonuses in a setting that is relevant to welfare.

### Hypothesis Tested

We tested which types of monetary bonus improves the performance of healthcare workers in Brazil. We tested three incentive schemes: first, monetary compensation with no performance bonuses; second, individual compensation for performances above the median of the headquarter they were assigned; and third, peer bonus compensation for team performances above the median of their headquarters. Theoretically, team bonuses should be more effective, as they increase peer monitoring and reduce the free-rider problem. However, if there are few gains from synergies among workers, individual rewards can be more useful. 

## Subjects and Context

### Why Was This Subject Pool Selected?

We selected participants via Facebook recruitment advertisements, which we posted to citizens of the Municipality of Rio Verde, Goiás State, Brazil. We chose that city because it had a considerable spike in dengue fever cases in 2017 and 2008, what lead us to establish a partnership with the Mayor's Office especially to run the experiment we describe here. One of our Facebook ads is available below.

\begin{figure}
\centering
\includegraphics[width=\textwidth]{../figures/rvRecruit1.png}
\caption{Facebook recruitment advertisement.\label{appcfbad}}
\end{figure}

The Facebook Ad redirected the participant to a Google Forms where he or she filled up a participation eligibility form. The Google Form we employed is shown below.

\begin{figure}
\centering
\includegraphics[width=0.8\textwidth]{../figures/rvRecruit2.png}
\caption{Google form.\label{appcgform}}
\end{figure}

We sent an email to participants and asked a few questions on demographics and other characteristics.

### Who Was Eligible to Participate in the Study?

Adults who were 18 years of age or older.

### What Would Result in the Exclusion of a Participant?

Being under-age or not participating in the training lessons or the intervention.

### Were Any Aspects of Recruitment Changed after the Recruitment Began?

No.

### Procedures Used to Recruit and Select Participants

We posted a Facebook ad in the municipality participating in the intervention. The ad invited potential participants to join the research and explained the payment scheme. If they clicked on the ad, they were directed to a Google Form, where they added their e-mail address and contact information.

### Recruitment Dates

The online recruitment took place right after respondents filled up the form. We sent a link containing a pre-treatment survey and some information about the *A. aegypti* mosquito to potential participants. After respondents completed the survey, we informed them about the in-person training dates and asked them to select their preferred times to participate. They had to join us for a two-hour training session.

The training date for the pilot was the 13^th^ of April, 2018. The training date for the intervention was 4^th^ of May, 2018. A picture taken on the 4^th^ of May training day follows below.

\begin{figure}
\centering
\includegraphics[width=\textwidth]{../figures/rvTraining.png}
\caption{Training Day.\label{appctrday}}
\end{figure}

### Settings and Locations Where the Data Were Collected

We use two primary datasets in the paper. First, we collected productivity data from the cell phones used by the participants in the field. Second, we collected governmental data on *A. aegypti*-borne diseases from the Brazilian Ministry of Health diseases notification system (SINAN).

The first dataset was generated by participants themselves and included the pictures taken during their fieldwork. The second dataset is comprised of governmental records of individuals that checked into hospitals and diagnosed with dengue fever. These data include the individual's home address, which we used to geolocate his or her household. Among the diseases transmitted by *A. aegypti*, dengue fever is the most prevalent and the easiest one to detect.

### Relevant Information about the Population

All participants were from the municipality of Rio Verde, in the state of Goiás, Brazil. A map of the municipality follows below:

\begin{figure}
\centering
\includegraphics[width=\textwidth]{../figures/rvMap.png}
\caption{Map of Rio Verde, GO, Brazil.\label{appcmaprv}}
\end{figure}

## Allocation Methods

### Randomisation procedure

We generated the treatment assignment using block randomisation applied on seven variables:

1. Age
2. Altruism.
3. Religiosity score.
4. Political engagement.
5. Social engagement.
6. Family income higher than two minimum wages.
7. Facebook popularity (number of friends).

We computed these variables from our pre-treatment survey and Google Forms. To test the covariate balance, we used F-tests on the block randomisation data. The balance tests follow in the data analysis section.

## Random Assignment

### Units of Randomisation

We randomised the treatment at the participant level.

### Cluster Random Assignment

We did not employ cluster random assignment. However, in the differences-in-differences estimation, we use the census sector where the pair worked to cluster the standard errors.

## Blinding

### Were Participants Unaware of the Treatment Assignment?

Yes. They knew about their incentive schemes, but not about the other incentive schemes we implemented in our experiment. To ensure that there would be no spillovers, we divided each treatment assigned teams into three different headquarters:

1. Assembleia de Deus Church (No bonus)
2. Videiras Church (Individual reward)
3. Sara Nossa Terra Church (Collective bonus)

These headquarters were away from each other to avoid contact between participants.

### Were Those Administering the Intervention Unaware of the Random Assignment?

No. The head research assistants in each group knew that different treatment would be administered in other research headquarters. We took this measure because in case of treatment spillover we would have to quickly remove the pairs who knew about the treatment conditions.

### Checked Whether Blind was Successful?

The single-blind was successful. We received no complaints during the intervention day. After the intervention day, participants became aware of the experiment. The post-treatment spillover made the post-treatment survey ineffective because they refused to cooperate with the researchers.

## Treatments

### Treatment Groups

We have one control and two treatment groups in our experiment:

1. Control (no performance bonus)
2. Individual treatment
3. Collective treatment

In the individual treatment group, we explained to participants that we would rank their individual performance based on number of visited houses, number of breeding sites removed and cleaned, and number of larvae exterminated. Participants would have their performance ranked and the ones above the median would double their monetary reward (from BRL 110.00 to BRL 220.00).

In the collective treatment group, we informed participants that we would rank their team performance based on number of visited houses, number of breeding sites removed and cleaned, and number of larvae exterminated. We would sum their individual performance with the performance of their field peers, and then rank the teams. Teams with performance above the median would double their monetary reward (from BRL 110.00 to BRL 220.00 for each person in the team).

The fieldwork was performed in pairs, to mimic the implementation of existing mosquito control strategies in the area.

### Control Group

The control group received a monetary reward with no performance requirement.

### Experimental Instructions

At 5:00 on intervention day, we randomly assigned pairs and sent emails to the individuals directing them to each of the headquarters, based on their treatment status.

We had three headquarters: the headquarters for the control group (Assembleia de Deus church); the headquarters for the individual treatment group (Videiras church); and the headquarters for the peer treatment group (Sara Nossa Terra church). We printed set of leaflets with places that they had to visit in order to administer the treatment. One example leaflet follows below:

\begin{figure}
\centering
\includegraphics[width=0.8\textwidth, height=13cm]{../figures/rvWorkBlock.png}
\caption{Example Leaflet.\label{appcevwbl}}
\end{figure}

And the working areas follow below:

\begin{figure}
\centering
\includegraphics[width=0.8\textwidth, height=11cm]{../figures/rvWorkArea.png}
\caption{Example Working Area.\label{appcevwa}}
\end{figure}

We handed in the cellphones and the working kits to subjects. An example of the working kit design follows below:

\begin{figure}
\centering
\includegraphics[width=0.8\textwidth, height=9cm]{../figures/rvKit3.jpeg}
\caption{Teams Uniforms\label{appcteamunif}}
\end{figure}

The cellphone was a Samsung Galaxy A1. A screenshot of the data collection app follows below.

\begin{figure}
\centering
\includegraphics[width=0.4\textwidth, height=6cm]{../figures/rvApp.jpeg}
\caption{Cellphone with Data Collection App.\label{appccpdcit}}
\end{figure}

The informative leaflet distributed to households follow here:

\begin{figure}
\includegraphics[width=0.8\textwidth, height=7cm]{../figures/rvKit4.jpg}
\includegraphics[width=0.8\textwidth, height=7cm]{../figures/rvKit5.jpg}
\caption{Example Leaflet Handed to Households.\label{appcexhhleafl}}
\end{figure}

We administered the main treatments at 11:00. They consisted in telling the following instructions to participants after we handed the leaflet with their working places:

- **Control:** we told them that there would be an increase in their payment without explaining the reason. We told them about how their performance would be measured, without saying anything about compensation based on performance.
- **Individual treatment:** we told participants that we would measure their performances in the field, and that we would rank all performances. The individuals with performance above the median would receive the bonus. We also explained in lay terms what a median is and how we would measure their performance.
- **Peer treatment:** we told participants that we would measure their performances in the field, and that we would rank all performances. The pairs with performance above the median would receive the bonus. We also explained in lay terms what a median is and how we would measure their performance.

## How and When Manipulations were Administered

### Method of Delivery

The manipulations were delivered in person by the chief headquarter RA. First, the manipulations was administered to all pairs simultaneously, then reinforced to each particular pair.

### Software Used to Administer the Treatment

We used `R` to perform the randomisation process. The treatment administration was done in person.

## Results

### Outcome Measures

There are two groups of outcomes. First, the performance outcomes that we collected from the cellphone used by each participant in the field. Second, dengue incidence figures reported by the healthcare facilities in the municipality.

For the performance data we have:

1. Geolocated pictures of house fronts as a proof that they visited to house.
2. Pictures of exterminated breeding sites.
3. Video of exterminated *A. aegypti* larvae.

For governmental data, we have the total number of hospitalised individuals who were infected with dengue fever. There were no reported cases of Zika and Chikungunya. 

### Covariates

We collected demographic information from participants.

### Which Outcomes and Subgroup Analysis Were Specified Prior to the Experiment?

The Rio Verde Mayor's Office did not hand in the infections data prior to the intervention. Therefore, we collected information on the neighbourhoods that had higher dengue fever incidence prior to the intervention, and implemented the territorial assignment accordingly. However, due to absence of micro-level data on infectious diseases, we did not consider them prior to the intervention.

### Exploratory Analysis

We run a pilot study with 20 pairs before the main intervention. We did not administer the incentivised intervention in the pilot study to avoid contamination in the results. The pilot study helped us update our expectations regarding the productivity in the field. Previously, we projected that we should assign around 20 houses per pairs. However, in the pilot study we learned that pairs could visit from 40 to 60 houses per pair. In one-third of the households nobody answered the door, and in most of them the yards were too small to find any breeding sites. Moreover, most of the places with dengue in the previous week had been visited by the municipal health care workers.

## CONSORT

### Number of Subjects Initially Accessed for Eligibility

`r dim(pretreat)[1]` individuals filled in the Google Form. `sum(pretreat$training=='Training')` showed for the training session one day before the intervention. `r sum(pretreat$participating == 'Participating')` individuals participated in the intervention and remained until the end of it.

### Exclusions Prior to Random Assignment

From all eligible people, we excluded the ones who missed the training and the field implementation sessions. This accounts for `r round(as.numeric(prop.table(table(pretreat$participating))[1]*100), 2)`\% of the total.

### Subjects Initially Assigned to Each Experimental Group

1. `r as.numeric(table(pretreat$assignment)[3])` to control group.
2. `r as.numeric(table(pretreat$assignment)[2])` to individual treatment group.
3. `r as.numeric(table(pretreat$assignment)[1])` to peer treatment group.

### Proportion Received x Not Received Intervention

1. `r as.numeric(table(pretreat$assignment[pretreat$participating == 'Participating'])[3])` received the control intervention out of `r as.numeric(table(pretreat$assignment)[3])` in the control group.
2. `r as.numeric(table(pretreat$assignment[pretreat$participating == 'Participating'])[2])` received the intervention out of `r as.numeric(table(pretreat$assignment)[2])` in the individual treatment group.
3. `r as.numeric(table(pretreat$assignment[pretreat$participating == 'Participating'])[1])` received the intervention out of `r as.numeric(table(pretreat$assignment)[1])` in the peer treatment group.

### Why Did Subjects Not Receive Intervention?

The individuals did not receive the intervention if they missed the fieldwork date. They were excluded from the data.

### Number Subjects Each Group Dropped Experiment

No subject were dropped from the assignment. The attrition was caused only by the fact that some individuals did not show up for the training and the treatment.

## Statistical Analysis

### Describe Statistical Analysis

We run four types of statistical analysis:

1. Balance tests.
2. Performance outcome analysis.
3. Disease incidence analysis.
4. Differences-in-differences analysis.

The main equations for the performance outcomes are:

\[
Y_i = \alpha + \beta D_i + \varepsilon_i
\]

Where $\beta$ is the outcome of interest, $Y_i$ is the outcome for case $i$, and $D_i$ is the treatment status for case $i$. And the code is:

\begin{verbatim}
mod <- lm(outc ~ treat, data = dataframe)
\end{verbatim}

The main equations for the disease incidence are:

\[
Y_i = \alpha + \beta D_i + \varepsilon_i
\]

Where $\beta$ is the outcome of interest, $Y_i$ is the outcome for case $i$, and $D_i$ is the treatment status for case $i$. The only difference is that the estimates are weighted using the propensity score matching. And the code is:

\begin{verbatim}
mod <- lm(outc ~ treat,
          data = dataframe,
          weights = dataframe$weights)
\end{verbatim}

Finally, the differences-in-differences estimator has the following form:

\[
Y_i = \alpha + \gamma Time_i + \theta Treat_i + \beta Time_i \times Treat_i + \varepsilon_i
\]

And our quantity of interest is $\beta$. The code for the regression models we run are as follows:

\begin{verbatim}
mod <- felm(outc ~ time+treat+DID|0|0|CensusSectors,
            data = dataframe)
\end{verbatim}

We use the \texttt{lfe} package to estimate the models, as it facilitates the use of cluster-robust standard errors.

## Standard Errors

We calculated robust standard errors using the \texttt{vcovHC} function in the package \texttt{sandwich}. The standard error is the same as the Stata's \textit{comma-robust}.

## Attrition

The attrition reports have been analysed in the data analysis section of this appendix.

## Other Information

### IRB

We received IRB from the New York University and Fundação Getulio Vargas.

- NYU IRB number: IRB-FY2017-17
- FGV IRB number: IRB-01/2017

### Pre-Registration

The study was pre-registered using the EGAP pre-registry tool (#20180504AA).

### Funding

We received funding from the FGV Applied Research Grant Office (RPCAP-FGV). The funding body did not interfere in the study design or implementation.

### Replication Dataset

Replication materials are available at https://github.com/danilofreire/incentives-health-care.

### Acknowledgements

This research benefited from the contribution of the following research assistants:

- Guilherme Fasolin, Giovanna França, Phillipe Guedon, Natalia Liberato, Fatima Portella, Catarina Roman, Leticia Santana, Larissa Santos, and Vitor Sion.

We are very thankful for their help before, during, and after the field experiment.

### Parcial Implementation and Possible Threats to the Identification

We had one substantial problem during the field, with the partial implementation of the territorial assignment in the control group. The coordinator of the control group base changed the territorial assignment because of pressure from the participants that had to work farther from the base. The coordinator assigned pair for the surroundings of the base. This problem may potentially threat the territorial comparability of the cases, but to ensure that this is not confounding our results, we used propensity-score matching to re-weight these areas. After the matching, the sectors seems comparable, and we are confident that the re-weight allows a comparable territorial assignment.

## Some Field Pictures

\begin{figure}
\centering
\includegraphics[width=0.7\textwidth]{../figures/rvPilot.jpg}
\caption{Field pictures}
\end{figure}

\begin{figure}
\centering
\includegraphics[width=0.7\textwidth, height=12cm]{../figures/rvFieldPic1.png}
\caption{Field pictures}
\end{figure}

\begin{figure}
\centering
\includegraphics[width=0.7\textwidth, height=10cm]{../figures/rvFieldPic2.jpg}
\caption{Field pictures}
\end{figure}

\begin{figure}
\centering
\includegraphics[width=0.8\textwidth]{../figures/diseaseincidence60dw.pdf}
\caption{Disease incidence before and after.\label{appcdisincbaf}}
\end{figure}

# R Session Information

\footnotesize
```{r}
sessionInfo()
```
\normalsize
